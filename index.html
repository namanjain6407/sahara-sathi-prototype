<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sahara Sathi - 2D Prototype</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { 
            margin: 0; 
            background-color: #0f172a;
            font-family: 'Inter', sans-serif; 
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        
        .phone-frame {
            width: 320px;
            height: 650px;
            background: #111;
            border-radius: 45px;
            border: 6px solid #334155;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            position: relative;
            padding: 10px;
            display: flex;
            flex-direction: column;
            will-change: transform;
        }

        .phone-notch {
            width: 100px;
            height: 18px;
            background: #111;
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            border-bottom-left-radius: 12px;
            border-bottom-right-radius: 12px;
            z-index: 1002;
        }

        #phone-screen-ui {
            flex: 1;
            background: #fff;
            border-radius: 32px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            position: relative;
            user-select: none;
        }

        .screen-content {
            flex: 1;
            padding: 15px;
            display: flex;
            flex-direction: column;
            background: #fff;
            position: relative;
        }

        .fade-in { animation: fadeIn 0.2s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .big-button {
            border-radius: 50%;
            width: 105px;
            height: 105px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: 800;
            color: white;
            text-transform: uppercase;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            transition: transform 0.1s ease;
            cursor: pointer;
            margin: 0 auto;
            text-align: center;
        }
        .big-button:active { transform: scale(0.92); }

        .auth-input {
            width: 100%;
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 10px;
            margin-bottom: 8px;
            font-size: 14px;
            outline: none;
        }

        #global-sos-btn {
            position: absolute;
            bottom: 25px;
            right: 15px;
            width: 65px;
            height: 65px;
            background: #dc2626;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 900;
            font-size: 16px;
            box-shadow: 0 5px 15px rgba(220, 38, 38, 0.3);
            border: 3px solid white;
            z-index: 1000;
            cursor: pointer;
            display: none;
        }

        #sos-hold-ring {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 75px; height: 75px;
            border: 4px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            pointer-events: none;
            display: none;
        }
        
        #sos-hold-progress {
            position: absolute;
            top: -4px; left: -4px;
            width: 75px; height: 75px;
            border: 4px solid #fff;
            border-radius: 50%;
            border-top-color: transparent;
            animation: rotate 1.5s linear forwards;
        }
        @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        .lang-switcher {
            display: flex;
            background: #f1f5f9;
            padding: 2px;
            border-radius: 20px;
            font-size: 10px;
            font-weight: bold;
        }
        .lang-btn { padding: 4px 8px; border-radius: 16px; cursor: pointer; transition: 0.2s; }
        .lang-btn.active { background: #f97316; color: white; }

        .card { background: #fff; border: 1.5px solid #e2e8f0; border-radius: 16px; padding: 12px; }
        .urgent { border-color: #ef4444; background: #fef2f2; }
        .completed { opacity: 0.5; text-decoration: line-through; }

        #emergency-screen {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #b91c1c;
            color: white;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            text-align: center;
            padding: 20px;
            border-radius: 32px;
        }

        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
    </style>
</head>
<body>

    <div class="phone-frame">
        <div class="phone-notch"></div>
        <div id="phone-screen-ui">
            <!-- Status Bar -->
            <div class="bg-black text-white text-[10px] px-6 py-1 flex justify-between items-center z-[1001] pt-3">
                <span id="screen-time">12:30</span>
                <div class="flex gap-1"><span>üì∂</span><span>üîã 88%</span></div>
            </div>

            <!-- Global SOS -->
            <div id="global-sos-btn">
                SOS
                <div id="sos-hold-ring"><div id="sos-hold-progress"></div></div>
            </div>

            <!-- Auth Screen -->
            <div id="screen-auth" class="screen-content justify-between fade-in">
                <div class="flex-1 flex flex-col justify-center">
                    <div class="text-center mb-6">
                        <span class="text-4xl">üë¥üëµ</span>
                        <h1 class="text-xl font-black text-blue-600 mt-1">SAHARA SATHI</h1>
                        <p id="auth-title" class="text-[10px] text-gray-400 font-bold uppercase tracking-widest">Login to continue</p>
                    </div>
                    <div id="auth-fields">
                        <input type="text" id="user-phone" placeholder="Your Phone Number" class="auth-input">
                        <input type="password" id="user-pin" placeholder="4-Digit PIN" class="auth-input">
                        <div id="register-only-fields" class="hidden border-t border-gray-100 mt-2 pt-2">
                            <p class="text-[9px] font-bold text-blue-500 mb-2 uppercase">Emergency Contact</p>
                            <input type="text" id="guardian-name" placeholder="Family Member Name" class="auth-input">
                            <input type="text" id="guardian-phone" placeholder="Family Member Phone" class="auth-input">
                        </div>
                        <button onclick="handleAuth()" class="w-full bg-blue-600 text-white py-3 rounded-2xl font-black text-lg shadow-md mt-2 uppercase">
                            <span id="btn-label">Login</span>
                        </button>
                        <button onclick="toggleAuthMode()" class="w-full text-blue-600 font-bold mt-4 text-[11px]">
                            <span id="toggle-label">Don't have an account? Sign Up</span>
                        </button>
                    </div>
                </div>
                <!-- Developer Credit at the bottom -->
                <p class="text-center text-[10px] text-gray-400 font-bold py-4 uppercase">Developed by Naman Jain</p>
            </div>

            <!-- Home Screen -->
            <div id="screen-home" class="screen-content hidden justify-between fade-in">
                <div>
                    <div class="flex justify-between items-center border-b pb-2 mb-4 mt-2">
                        <span class="font-black text-blue-600 text-xs uppercase">Sahara Sathi</span>
                        <div class="lang-switcher">
                            <div id="lang-en" onclick="setLanguage('en')" class="lang-btn active">EN</div>
                            <div id="lang-hi" onclick="setLanguage('hi')" class="lang-btn">‡§π‡§ø‡§Ç‡§¶‡•Ä</div>
                        </div>
                    </div>
                    <div class="flex flex-col items-center justify-center gap-6 py-4">
                        <div onclick="showScreen('health')" class="big-button bg-blue-600">Health</div>
                        <div onclick="showScreen('news')" class="big-button bg-orange-500">News</div>
                        <div onclick="showScreen('youtube')" class="big-button bg-red-600">YouTube</div>
                    </div>
                    
                    <div class="mt-4 p-3 bg-gray-50 rounded-xl border border-gray-100">
                        <p class="text-[9px] font-bold text-gray-400 uppercase">Emergency Contact</p>
                        <p id="home-guardian-display" class="font-bold text-gray-700 text-xs">Loading...</p>
                    </div>
                </div>

                <div class="text-center pb-2">
                    <button onclick="logout()" class="text-[10px] font-bold text-red-400 uppercase">Logout</button>
                    <p class="text-[10px] text-gray-300 font-bold uppercase mt-2">Developed by Naman Jain</p>
                </div>
            </div>

            <!-- Health Screen -->
            <div id="screen-health" class="screen-content hidden bg-blue-50 fade-in">
                <div class="flex items-center gap-4 mb-2">
                    <button onclick="showScreen('home')" class="text-2xl text-left">‚¨ÖÔ∏è</button>
                    <h1 class="text-xl font-bold">Health Monitor</h1>
                </div>
                
                <div class="flex-1 overflow-y-auto space-y-4 pb-20">
                    <div class="card">
                        <div class="flex justify-between items-center mb-2">
                            <h2 class="text-[10px] font-bold text-blue-600 uppercase">Medicines</h2>
                            <button onclick="speak('Take your Morning Medicine.', 'en-US')" class="text-lg">üîä</button>
                        </div>
                        <div class="flex items-center gap-3">
                            <span class="text-xl">üíä</span>
                            <div class="flex-1"><p class="font-bold text-xs">BP Pill</p><p class="text-[9px] text-gray-500">Morning</p></div>
                            <input type="checkbox" class="w-5 h-5">
                        </div>
                    </div>

                    <!-- To-Do Section -->
                    <div>
                        <div class="flex justify-between items-center mb-2">
                            <h2 class="text-[10px] font-bold text-blue-600 uppercase">To-Do List</h2>
                            <button onclick="toggleTaskInput()" class="bg-blue-600 text-white px-2 py-0.5 rounded text-[9px] font-bold">+ ADD</button>
                        </div>
                        <div id="task-input-box" class="hidden card mb-3 bg-white shadow-lg border-blue-200">
                            <input id="task-name" type="text" placeholder="Task name..." class="w-full border-b mb-2 p-1 text-xs outline-none">
                            <div class="flex justify-between items-center">
                                <label class="text-[9px] flex items-center gap-1"><input id="task-urgent" type="checkbox"> Urgent?</label>
                                <button onclick="addTask()" class="bg-blue-600 text-white px-3 py-1 rounded text-[9px] font-bold">SAVE</button>
                            </div>
                        </div>
                        <div id="todo-list" class="space-y-2">
                            <div class="card flex items-center gap-3 urgent">
                                <div class="flex-1"><p class="font-bold text-xs">Drink Water</p><p class="text-[8px] text-red-600 font-bold uppercase">Urgent</p></div>
                                <input type="checkbox" onchange="this.parentElement.classList.toggle('completed')" class="w-5 h-5">
                            </div>
                        </div>
                    </div>
                </div>
                <p class="text-center text-[10px] text-gray-400 font-bold py-2 uppercase">Developed by Naman Jain</p>
            </div>

            <!-- News Screen -->
            <div id="screen-news" class="screen-content hidden bg-orange-50 fade-in">
                <div class="flex items-center gap-4 mb-2">
                    <button onclick="showScreen('home')" class="text-2xl text-left">‚¨ÖÔ∏è</button>
                    <h1 class="text-xl font-bold">Today's News</h1>
                </div>
                <div id="news-container" class="flex-1 overflow-y-auto space-y-3 pb-20"></div>
                <p class="text-center text-[10px] text-gray-400 font-bold py-2 uppercase">Developed by Naman Jain</p>
            </div>

            <!-- YouTube Screen -->
            <div id="screen-youtube" class="screen-content hidden bg-red-50 fade-in">
                <button onclick="showScreen('home')" class="text-2xl mb-4 text-left">‚¨ÖÔ∏è Back</button>
                <h1 class="text-xl font-bold">Relaxation</h1>
                <div class="w-full aspect-video bg-gray-300 rounded-xl mt-4 flex items-center justify-center shadow-inner">‚ñ∂Ô∏è Play</div>
                <div class="mt-4 text-center">
                    <p class="font-bold text-sm">Bhajan Playlist</p>
                    <p class="text-[10px] text-gray-500 mt-1">Tap to start peaceful music</p>
                </div>
                <p class="text-center text-[10px] text-gray-400 font-bold py-4 mt-auto uppercase">Developed by Naman Jain</p>
            </div>

            <!-- Emergency Overlay -->
            <div id="emergency-screen">
                <h1 class="text-2xl font-black uppercase mb-4">Emergency!</h1>
                <div class="bg-red-800 p-4 rounded-2xl border border-red-400 w-full shadow-2xl">
                    <p class="text-sm opacity-80 uppercase font-bold mb-1">Calling Now:</p>
                    <p id="sos-target-name" class="text-xl font-black text-yellow-300">Guardian</p>
                    <p id="sos-target-phone" class="text-sm opacity-90 mt-1">9876543210</p>
                </div>
                <p class="text-[10px] font-bold tracking-widest uppercase mt-6 animate-pulse">GPS Location Sent</p>
                <button onclick="cancelEmergency()" class="bg-white text-red-700 px-12 py-4 rounded-full font-black mt-10 shadow-lg">STOP</button>
            </div>
        </div>
    </div>

    <script>
        let isSignUp = false;
        let sosTimer;
        let currentLang = 'en';
        let guardianInfo = { name: "Naman Jain", phone: "9876543210" };

        const newsData = {
            en: [
                { tag: 'INDIA', title: 'Space Mission', desc: 'India planning new moon landing project.', audio: 'India planning new moon landing project.' },
                { tag: 'WORLD', title: 'Climate Summit', desc: 'World leaders meet to discuss green energy.', audio: 'World leaders meet to discuss green energy.' },
                { tag: 'SPORTS', title: 'Cricket Win', desc: 'Team India wins the final match in style.', audio: 'Team India wins the final match in style.' },
                { tag: 'WEATHER', title: 'Sunny Day', desc: 'Today will be bright and sunny.', audio: 'Today will be bright and sunny.' },
                { tag: 'WISDOM', title: 'Daily Thought', desc: "A kind word can change someone's day.", audio: "A kind word can change someone's day." }
            ],
            hi: [
                { tag: '‡§≠‡§æ‡§∞‡§§', title: '‡§Ö‡§Ç‡§§‡§∞‡§ø‡§ï‡•ç‡§∑ ‡§Æ‡§ø‡§∂‡§®', desc: '‡§≠‡§æ‡§∞‡§§ ‡§®‡§è ‡§ö‡§Ç‡§¶‡•ç‡§∞‡§Æ‡§æ ‡§≤‡•à‡§Ç‡§°‡§ø‡§Ç‡§ó ‡§™‡•ç‡§∞‡•ã‡§ú‡•á‡§ï‡•ç‡§ü ‡§ï‡•Ä ‡§Ø‡•ã‡§ú‡§®‡§æ ‡§¨‡§®‡§æ ‡§∞‡§π‡§æ ‡§π‡•à‡•§', audio: 'Bharat naye chandrama landing project ki yojna bana raha hai.' },
                { tag: '‡§¶‡•Å‡§®‡§ø‡§Ø‡§æ', title: '‡§ú‡§≤‡§µ‡§æ‡§Ø‡•Å ‡§∂‡§ø‡§ñ‡§∞ ‡§∏‡§Æ‡•ç‡§Æ‡•á‡§≤‡§®', desc: '‡§µ‡§ø‡§∂‡•ç‡§µ ‡§®‡•á‡§§‡§æ ‡§π‡§∞‡§ø‡§§ ‡§ä‡§∞‡•ç‡§ú‡§æ ‡§™‡§∞ ‡§ö‡§∞‡•ç‡§ö‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Æ‡§ø‡§≤‡•á‡•§', audio: 'Vishwa neta harit oorja par charcha ke liye mile.' },
                { tag: '‡§ñ‡•á‡§≤', title: '‡§ï‡•ç‡§∞‡§ø‡§ï‡•á‡§ü ‡§ú‡•Ä‡§§', desc: '‡§ü‡•Ä‡§Æ ‡§á‡§Ç‡§°‡§ø‡§Ø‡§æ ‡§®‡•á ‡§∂‡§æ‡§®‡§¶‡§æ‡§∞ ‡§Ö‡§Ç‡§¶‡§æ‡§ú‡§º ‡§Æ‡•á‡§Ç ‡§´‡§æ‡§á‡§®‡§≤ ‡§Æ‡•à‡§ö ‡§ú‡•Ä‡§§‡§æ‡•§', audio: 'Team India ne shaandaar andaaz mein final match jeeta.' },
                { tag: '‡§Æ‡•å‡§∏‡§Æ', title: '‡§∏‡•Å‡§π‡§æ‡§®‡§æ ‡§¶‡§ø‡§®', desc: '‡§Ü‡§ú ‡§Æ‡•å‡§∏‡§Æ ‡§∏‡§æ‡•û ‡§î‡§∞ ‡§ß‡•Ç‡§™ ‡§µ‡§æ‡§≤‡§æ ‡§∞‡§π‡•á‡§ó‡§æ‡•§', audio: 'Aaj mausam saaf aur dhoop wala rahega.' },
                { tag: '‡§∏‡•Å‡§µ‡§ø‡§ö‡§æ‡§∞', title: '‡§Ü‡§ú ‡§ï‡•Ä ‡§¨‡§æ‡§§', desc: '‡§è‡§ï ‡§Æ‡•Ä‡§†‡§æ ‡§∂‡§¨‡•ç‡§¶ ‡§ï‡§ø‡§∏‡•Ä ‡§ï‡§æ ‡§¶‡§ø‡§® ‡§¨‡§¶‡§≤ sakta hai.', audio: 'Ek meetha shabd kisi ka din badal sakta hai.' }
            ]
        };

        function setLanguage(lang) {
            currentLang = lang;
            document.getElementById('lang-en').classList.toggle('active', lang === 'en');
            document.getElementById('lang-hi').classList.toggle('active', lang === 'hi');
            if (!document.getElementById('screen-news').classList.contains('hidden')) renderNews();
        }

        function speak(text, langCode) {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                const utter = new SpeechSynthesisUtterance(text);
                utter.lang = langCode || (currentLang === 'hi' ? 'hi-IN' : 'en-US');
                utter.rate = 0.85;
                window.speechSynthesis.speak(utter);
            }
        }

        function renderNews() {
            const container = document.getElementById('news-container');
            if(!container) return;
            container.innerHTML = '';
            newsData[currentLang].forEach(item => {
                const div = document.createElement('div');
                div.className = 'card bg-white border-orange-100';
                const safeAudio = item.audio.replace(/'/g, "\\'");
                div.innerHTML = `
                    <div class="flex justify-between items-start mb-1">
                        <span class="bg-orange-100 text-orange-700 text-[8px] px-2 py-0.5 rounded-full font-bold uppercase">${item.tag}</span>
                        <button onclick="speak('${safeAudio}')" class="text-lg">üîä</button>
                    </div>
                    <p class="font-bold text-xs mb-1">${item.title}</p>
                    <p class="text-[10px] text-gray-600 leading-tight">${item.desc}</p>
                `;
                container.appendChild(div);
            });
        }

        function toggleTaskInput() {
            document.getElementById('task-input-box').classList.toggle('hidden');
        }

        function addTask() {
            const name = document.getElementById('task-name').value;
            const isUrgent = document.getElementById('task-urgent').checked;
            if(!name) return;
            const list = document.getElementById('todo-list');
            const div = document.createElement('div');
            div.className = `card flex items-center gap-3 ${isUrgent ? 'urgent' : ''}`;
            div.innerHTML = `
                <div class="flex-1"><p class="font-bold text-xs">${name}</p>${isUrgent ? '<p class="text-[8px] text-red-600 font-bold uppercase">Urgent</p>' : ''}</div>
                <input type="checkbox" onchange="this.parentElement.classList.toggle('completed')" class="w-5 h-5">
            `;
            list.prepend(div);
            document.getElementById('task-name').value = '';
            document.getElementById('task-urgent').checked = false;
            toggleTaskInput();
        }

        function toggleAuthMode() {
            isSignUp = !isSignUp;
            document.getElementById('auth-title').innerText = isSignUp ? 'Create New Account' : 'Login to continue';
            document.getElementById('btn-label').innerText = isSignUp ? 'Sign Up' : 'Login';
            document.getElementById('toggle-label').innerText = isSignUp ? 'Already have an account? Login' : "Don't have an account? Sign Up";
            document.getElementById('register-only-fields').classList.toggle('hidden', !isSignUp);
        }

        function handleAuth() {
            if (isSignUp) {
                const name = document.getElementById('guardian-name').value;
                const phone = document.getElementById('guardian-phone').value;
                if(name && phone) guardianInfo = { name, phone };
            }
            document.getElementById('home-guardian-display').innerText = `${guardianInfo.name} (${guardianInfo.phone})`;
            showScreen('home');
            document.getElementById('global-sos-btn').style.display = 'flex';
        }

        function logout() {
            showScreen('auth');
            document.getElementById('global-sos-btn').style.display = 'none';
        }

        function showScreen(screenId) {
            ['auth', 'home', 'health', 'news', 'youtube'].forEach(s => {
                const el = document.getElementById(`screen-${s}`);
                if(el) el.classList.add('hidden');
            });
            const target = document.getElementById(`screen-${screenId}`);
            if(target) target.classList.remove('hidden');
            if (screenId === 'news') renderNews();
            window.speechSynthesis.cancel();
        }

        function triggerEmergency() {
            document.getElementById('sos-target-name').innerText = guardianInfo.name;
            document.getElementById('sos-target-phone').innerText = guardianInfo.phone;
            document.getElementById('emergency-screen').style.display = 'flex';
            speak(`Emergency. Calling ${guardianInfo.name} and sharing your location.`);
        }

        function cancelEmergency() {
            document.getElementById('emergency-screen').style.display = 'none';
            window.speechSynthesis.cancel();
        }

        const sosBtn = document.getElementById('global-sos-btn');
        const holdRing = document.getElementById('sos-hold-ring');

        function startSOS(e) {
            if(e) e.stopPropagation();
            holdRing.style.display = 'block';
            sosTimer = setTimeout(() => {
                triggerEmergency();
                holdRing.style.display = 'none';
            }, 1500);
        }

        function cancelSOS() {
            clearTimeout(sosTimer);
            holdRing.style.display = 'none';
        }

        sosBtn.addEventListener('mousedown', startSOS);
        sosBtn.addEventListener('touchstart', (e) => { e.preventDefault(); startSOS(e); });
        window.addEventListener('mouseup', cancelSOS);
        window.addEventListener('touchend', cancelSOS);

        setInterval(() => {
            const now = new Date();
            const timeEl = document.getElementById('screen-time');
            if(timeEl) timeEl.innerText = now.getHours() + ":" + String(now.getMinutes()).padStart(2, '0');
        }, 1000);
    </script>
</body>
</html>
